---
import Button from "@atoms/Button.astro";
import PostEmbed from "@atoms/PostEmbed.astro";
import { getCollection } from "astro:content";
import i18next from "i18next";
import { localizePath, sortByDescending } from "src/util/Util";
import type { BlogFrontMatter } from "@layouts/Post.astro"

let allPosts = await getCollection("blog")
sortByDescending(allPosts, (post) => new Date(post.data.date));

const latestPosts = allPosts.slice(0, 3);
---

{latestPosts.map((post) => <PostEmbed {post} />)}
<div class="is-flex mt-4 is-justify-content-right">
	<Button
		href={localizePath("/blog/1")}
		type="primary"
		icon="mdi:dots-vertical"
		textKey="button-more-posts"
	/>
</div>
